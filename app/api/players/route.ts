import { NextResponse } from 'next/server'; import { PrismaClient } from '@prisma/client'; const prisma = new PrismaClient(); async function getHandler(){ const rows = await prisma.player.findMany(); return NextResponse.json(rows); } async function postHandler(req: Request){ const body = await req.json(); const row = await prisma.player.create({ data: { name: body.name, jerseyNumber: body.jerseyNumber ?? null, email: body.email ?? null } }); return NextResponse.json(row); } export const GET = getHandler; export const POST = postHandler;
