import { NextResponse } from 'next/server'; import { PrismaClient } from '@prisma/client'; const prisma = new PrismaClient(); async function getHandler(){ const rows = await prisma.game.findMany(); return NextResponse.json(rows); } async function postHandler(req: Request){ const body = await req.json(); const row = await prisma.game.create({ data: { week: body.week, date: new Date(body.date), homeTeam: body.homeTeam, awayTeam: body.awayTeam } }); return NextResponse.json(row); } export const GET = getHandler; export const POST = postHandler;