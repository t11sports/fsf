import { NextResponse } from 'next/server'; import { PrismaClient } from '@prisma/client'; const prisma = new PrismaClient(); async function getHandler(){ const rows = await prisma.buyer.findMany(); return NextResponse.json(rows); } async function postHandler(req: Request){ const body = await req.json(); const row = await prisma.buyer.create({ data: { name: body.name, email: body.email ?? null, phone: body.phone ?? null, facebook: !!body.facebook } }); return NextResponse.json(row); } export const GET = getHandler; export const POST = postHandler;